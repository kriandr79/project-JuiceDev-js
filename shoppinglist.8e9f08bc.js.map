{"mappings":"6mBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kZCAzDH,EAAA,S,6GAWMI,EAAS,kBCXfC,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SDYtH,I,EAAIC,EAAW,IAAAC,IAAAJ,GEZfK,EAAiBV,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SFatH,I,EAAII,EAAQ,IAAAF,IAAAC,GGbZE,EAAiBZ,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SHctH,I,EAAIM,EAAS,IAAAJ,IAAAG,GIdbE,EAAiBd,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SJetH,I,EAAIQ,EAAa,IAAAN,IAAAK,GKfjBE,EAAiBhB,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SLgBtH,I,EAAIU,EAAW,IAAAR,IAAAO,GMhBfE,EAAiBlB,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SNiBtH,IAAIY,EAAQ,IAAAV,IAAAS,GAENE,EAAaC,SAASC,cAAc,uBACtCC,EAAWC,aAAaC,QAAQrB,GAChCsB,EAAaH,EAAWrB,KAAKC,MAAMoB,GAAY,KAE7CI,EAAkB,kKAQXC,OAHSpB,EAAY,mFAGZoB,OAATjB,EAAS,wDA0BtB,SAASkB,EAAkBC,GACzBV,EAAWW,UAAY,GAEvB,IAAMC,EAAeF,EAClBG,KAAI,SAAAC,G,IA+BiBC,EAaAC,EAaAC,EAxDpB,MAAO,6GASuCT,OANnCM,EAAWI,MAAM,8MAOoBV,OADFM,EAAWK,MAAM,+DAGZX,OAFHM,EAAWM,UAAU,qFAKpDZ,OAHkCM,EAAWhD,GAAG,sGASzD0C,OANST,EAAS,mKASkBS,OAHpCM,EAAWO,YAAY,qHASXb,OANwBM,EAAWQ,OAAO,+MAUzCd,OAJwD,QAAzDO,EAAAD,EAAWS,UAAUC,MAAK,SAAAC,G,MAAsB,WAAdA,EAAKC,I,WAAkB,IAAzDX,OAAA,EAAAA,EAA2D3C,IAAI,+HAa/DoC,OATCf,EAAU,2QAaVe,OAJ6D,QAA9DQ,EAAAF,EAAWS,UAAUC,MAAK,SAAAC,G,MAAsB,gBAAdA,EAAKC,I,WAAuB,IAA9DV,OAAA,EAAAA,EAAgE5C,IAAI,yJAapEoC,OATCb,EAAc,oRAada,OAJ0D,QAA3DS,EAAAH,EAAWS,UAAUC,MAAK,SAAAC,G,MAAsB,aAAdA,EAAKC,I,WAAoB,IAA3DT,OAAA,EAAAA,EAA6D7C,IAAI,+HAIpDoC,OAAZX,EAAY,uL,IAUlC8B,KAAK,IAER3B,EAAWW,UAAYC,C,CAjGzBX,SAAS2B,iBAAiB,oBAAoB,WAaxCtB,GAAcA,EAAWzC,OAAS,EACpC4C,EAAkBH,GAElBN,EAAWW,UAAYJ,C,KAZ3B,EAAAsB,EAAAC,oBAAmBC,EAAAC,MAAM,SAACC,GACpBA,QACFjC,EAAWW,UAAYJ,EAEvBE,EAAkBH,E,IA8FtBN,EAAW4B,iBAAiB,SAE5B,SAAsBM,GAGpB,GAFkBA,EAAMC,OAAOC,QAAQ,2BAExB,CAEb,IAAMC,EAASH,EAAMC,OAAOG,cAAcC,WAAWzE,GAAGQ,MAExD,GAAI+D,EAAQ,CACV,IAAMG,EAAYpC,aAAaC,QAAQrB,GAGjCyD,GAFkBD,EAAY1D,KAAKC,MAAMyD,GAAa,IAExBE,QAAO,SAAAC,G,OAAQA,EAAK7E,KAAOuE,C,KAC/D,EAAAN,EAAAa,oBAAmBP,GACnBjC,aAAayC,QAAQ7D,EAAQF,KAAKgE,UAAUL,IAE5CP,EAAMC,OAAOC,QAAQ,yBAAyBW,SAEnB,IAAvBN,EAAY5E,SACdmC,EAAWW,UAAYJ,E","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0976a0e8b27a9d67.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-d910add96b2447ae.js","node_modules/@parcel/runtime-js/lib/runtime-d15bb63daa3293a0.js","node_modules/@parcel/runtime-js/lib/runtime-8bd5ee96495ce1ec.js","node_modules/@parcel/runtime-js/lib/runtime-acc3dbfece4a08a5.js","node_modules/@parcel/runtime-js/lib/runtime-d349ab99a791f0be.js","node_modules/@parcel/runtime-js/lib/runtime-7e7ce38db6924443.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l20mf\\\":\\\"shoppinglist.8e9f08bc.js\\\",\\\"1GK9w\\\":\\\"empty-page@2.0c63d3b6.png\\\",\\\"4Dysf\\\":\\\"empty-page.e85449c5.png\\\",\\\"aaLHb\\\":\\\"amazon.b8fa90cb.png\\\",\\\"8DT1R\\\":\\\"applebook.5a9f17e3.png\\\",\\\"kaCPy\\\":\\\"bookshop.91914384.png\\\",\\\"eqgoj\\\":\\\"trash-03.4e2c396d.png\\\",\\\"7Lh2N\\\":\\\"index.36c3b731.js\\\"}\"));","import './header-burger';\nimport './support-ukraine';\nimport './site-theme';\nimport './btntop.js';\nimport './header.js';\nimport './firebase-btns.js';\nimport './firebase-functions.js';\nimport './firebase-modals.js';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, firebaseDeleteItem } from './firebase-functions';\n\nconst KEY_LS = 'my-shoppinglist';\nlet imgEmptyBig = new URL('/src/images/empty-page@2.png', import.meta.url);\nlet imgEmpty = new URL('/src/images/empty-page.png', import.meta.url);\nlet imgAmazon = new URL('/src/images/amazon.png', import.meta.url);\nlet imgAppleBooks = new URL('/src/images/applebook.png', import.meta.url);\nlet imgBookshop = new URL('/src/images/bookshop.png', import.meta.url);\nlet imgTrash = new URL('/src/images/trash-03.png', import.meta.url);\n\nconst ulMarkupLS = document.querySelector('.shoppingList-books');\nlet loadData = localStorage.getItem(KEY_LS);\nlet parsedData = loadData ? JSON.parse(loadData) : null;\n\nconst markupBookEmpty = `<li><p class=\"shoppingList-text\">\n  This page is empty, add some books and proceed to order.\n</p>\n<a href=\"./index.html\">\n  <picture>\n    <source srcset=\"${imgEmptyBig} 2x\" type=\"image/png\" />\n    <img\n      class=\"shoppingList-img\"\n      src=\"${imgEmpty}\"\n      alt=\"Book\"\n    />\n  </picture>\n</a></li>`;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  loadBookLS();\n});\n\nonAuthStateChanged(auth, (data) => {\n  if (data === null || data === undefined) {\n    ulMarkupLS.innerHTML = markupBookEmpty;\n  } else {\n    markupBookContent(parsedData);\n  }\n})\n\nfunction loadBookLS() {\n  if (parsedData && parsedData.length > 0) {\n    markupBookContent(parsedData);\n  } else {\n    ulMarkupLS.innerHTML = markupBookEmpty;\n  }\n}\n\nfunction markupBookContent(parsedData) {\n  ulMarkupLS.innerHTML = '';\n\n  const markupBookLi = parsedData\n    .map(parsedData => {\n      return `<li class=\"books-shoppingListLi\">\n        <img\n          class=\"books-shoppingList-img\"\n          src=\"${parsedData.image}\"\n          alt=\"\"\n        />\n        <div class=\"box-shoppingList-content\">\n          <div id=\"cont\" class=\"box-shoppingList\">\n            <div>\n              <h2 class=\"text-shoppingList-title\">${parsedData.title}</h2>\n              <p class=\"text-shoppingList-category\">${parsedData.publisher}</p>\n            </div>\n            <button class=\"box-shoppingList-trash\" id=\"${parsedData.id}\">\n              <img\n                class=\"box-shoppingList-trash-icon\"\n                src=\"${imgTrash}\"\n                alt=\"trash\"\n              />       \n            </button>\n          </div>\n          <p class=\"text-shoppingList-content\">\n            ${parsedData.description}\n          </p>\n          <div class=\"box-shoppingList-link\">\n            <p class=\"text-shoppingList-author\">${parsedData.author}</p>\n            <ul class=\"box-shoppingList-shop\">\n              <li>\n                <a\n                  class=\"shop-shoppingList-link\"\n                  target=\"_blank\"\n                  href=\"${parsedData.buy_links.find(link => link.name === 'Amazon')?.url}\"\n                >\n                  <img\n                    class=\"shop-shoppingList-img1\"\n                    src=\"${imgAmazon}\"\n                    alt=\"Amazon Link\"\n                  />       \n                </a>\n              </li>\n              <li>\n                <a\n                  class=\"shop-shoppingList-link\"\n                  target=\"_blank\"\n                  href=\"${parsedData.buy_links.find(link => link.name === 'Apple Books')?.url}\"\n                >                          \n                  <img\n                    class=\"shop-shoppingList-img2\"\n                    src=\"${imgAppleBooks}\"\n                    alt=\"Apple Books Link\"\n                  />           \n                </a>\n              </li>\n              <li>\n                <a\n                  class=\"shop-shoppingList-link\"\n                  target=\"_blank\"\n                  href=\"${parsedData.buy_links.find(link => link.name === 'Bookshop')?.url}\"\n                >\n                  <img\n                    class=\"shop-shoppingList-img2\"\n                    src=\"${imgBookshop}\"\n                    alt=\"Bookshop link\"\n                  />       \n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </li>`;\n    })\n    .join('');\n\n  ulMarkupLS.innerHTML = markupBookLi;\n}\n\n\n\nulMarkupLS.addEventListener('click', deleteBookId);\n\nfunction deleteBookId(event) {\n  const btnTarget = event.target.closest('.box-shoppingList-trash'); \n\n  if (btnTarget) {\n\n    const bookId = event.target.parentElement.attributes.id.value;\n\n    if (bookId) {\n      const savedData = localStorage.getItem(KEY_LS);\n      const parsedSavedData = savedData ? JSON.parse(savedData) : [];\n\n      const updatedData = parsedSavedData.filter(book => book.id !== bookId);\n      firebaseDeleteItem(bookId);\n      localStorage.setItem(KEY_LS, JSON.stringify(updatedData));\n\n      event.target.closest('.books-shoppingListLi').remove();\n\n      if (updatedData.length === 0) {\n        ulMarkupLS.innerHTML = markupBookEmpty;\n      }\n    }\n  }\n}\n  ","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"1GK9w\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"4Dysf\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"8DT1R\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"kaCPy\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"eqgoj\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$399cd7aec2522034$var$KEY_LS","$14277997f7db6476$exports","getBundleURL","resolve","$399cd7aec2522034$var$imgEmptyBig","URL","$accc550b2857c100$exports","$399cd7aec2522034$var$imgEmpty","$323441f1b58d41d0$exports","$399cd7aec2522034$var$imgAmazon","$71e2cd39f1e22574$exports","$399cd7aec2522034$var$imgAppleBooks","$bbd9de2007923191$exports","$399cd7aec2522034$var$imgBookshop","$8a0afb1d6d34ba83$exports","$399cd7aec2522034$var$imgTrash","$399cd7aec2522034$var$ulMarkupLS","document","querySelector","$399cd7aec2522034$var$loadData","localStorage","getItem","$399cd7aec2522034$var$parsedData","$399cd7aec2522034$var$markupBookEmpty","concat","$399cd7aec2522034$var$markupBookContent","parsedData1","innerHTML","markupBookLi","map","parsedData2","ref","ref1","ref2","image","title","publisher","description","author","buy_links","find","link","name","join","addEventListener","$gQOBw","onAuthStateChanged","$9lidz","auth","data","event","target","closest","bookId","parentElement","attributes","savedData","updatedData","filter","book","firebaseDeleteItem","setItem","stringify","remove"],"version":3,"file":"shoppinglist.8e9f08bc.js.map"}